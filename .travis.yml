
# Travis CI configuration for Slack Topic Updater.
#
# @see https://docs.travis-ci.com/user/languages/javascript-with-nodejs/
# @see https://docs.travis-ci.com/user/database-setup/#postgresql
# @author Tim Malone <tdmalone@gmail.com>

language: node_js
node_js: 10.11.0

cache:
  yarn: true
  directories:
    - node_modules

install:
  - yarn --frozen-lockfile

script:
  - yarn lint
  - yarn test

after_script:
  - yarn report-coverage

# Deploy tagged commits to npm.
deploy:
  provider: npm
  email: tdmalone@gmail.com
  api_key:
    secure: BnelfzHTlzGzFJ5FOkzpRxY4+Ld76RmoYGFN5SSrTekWSQeS0J0KD/vIGFteVGoALIM7hLJw0tcU6KKcCMJXoJapwSOZBHsBJOZIRAyTk6ahBejs4cSoF/xf/54dRkJH0+ZTtOKIEajgpigTqx4iai35qoDrj/G81OnVTmMMKpS50BLy2GCWm/AZsi3QRvA5s8c4vUT/mSAZFK/fi2adgj6mkd7YKrswYhfvVRRmColZ8RiRgWCd3yDp+D6Lwrz1W4BrVe3rb+KrCehaMsU6m5wJTi8gGgncrlp6y5PtNysE7eqLov5+b8oGG4MkjSO327aNxANzk3xyvtaa0a5hZa9wjzNE0NH41nE+xaxFCv0+YYJzKgpt4QyPnwO7YHNrnJjJ1W2uFSsBwRMuo3cGUez5gaGtfZfikOvkqruwRaJDkuASuMbCr+05LeX/NGF0FlUVzjs70ZjyvucRhcu3aKVP/nJRGEqs4Tx9pwlc4yocZwjW38w0szwFzjPizwy+Vl9zHm/dsR7n0sEFFEJv/LKgnMUTwhYd+YKFBkBZA4qkXuzUmlf1lCCRfpXLnqZRRjI60Ge8svyfsfo+Lk64obD3+WL8IwM/j8Uy/6SWxXsH21xRm5DEyeK+M0E0dA0XDvE0eBu8kQs6FWP4Z08QpI8H4QNxCL1pIZ1DBGGyviQ=
  on:
    tags: true

notifications:
  email: false
  slack:
    rooms:
      - secure: c1EiAokrLyd79lkSG6OvzIhOqLKBF2kiyjAFhiYfSp1EsCkqHTQ0TgH5e61Jix+VoJL/u6ydkb0YH5BHpuTYv27sxXRAjaGn9I4jhpo13DMX6ZXqpLgZAcONLQ5KqEBvyLPr3eixVTrE0C8BpRmGSmsMbjEqImpK0lm0jzGK6DlakAFT4M8w/oHvG5hc30/FE37UXW6R9EsOrskaflZvP4EGfWwvHJZHAtuAtaPkClSQpyOs9JUQU7/OWzYXEJKEn+SGAOedxKOq78e0u5cT8Egn0uLMMil6eZJ3Iey8wji5Xv5HQRnqAau7wEVrLpGvuK9r7t5JELwHM2xtRtTu+UcySNsTulEfHKuN7h9RK4wJZEBpaboqSfb+DzR6iRpVQSEwphkRPoPb9+0Ta+QF1RNhPdq38bDHCoAd22uauRwfzS2BQQPw2tnUsTDZqtwQgZtEczy3hQmiicF3W/Ib7nrT3Whv2Yo7P1ZK2PkAhSrBAakg7BME5kBURg4QdADmCMaTGIdTG7YJt1AHFAxsddIewzlROkFV7KRrkUYy6kgnvDn/qYHhzrGgOxDpRF5PvC5LvvpC3Zzl/KvYFIlF7swacpIyHqBFQ8V9OTbJSH2tqLJqpZA4To6HNEVn0dFg5gbY0pyceicKfkBL1ESkw/aA+zErxA/1GExbgrGuicU=
    on_start: always
